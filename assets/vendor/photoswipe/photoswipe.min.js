/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */(function(ht,m){typeof define=="function"&&define.amd?define(m):typeof exports=="object"?module.exports=m():ht.PhotoSwipe=m()})(this,function(){"use strict";var ht=function(m,Kt,An,Pn){var l={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[o](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return e!==void 0?e:document.documentElement.scrollTop},unbind:function(e,t,n){l.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){l.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(l.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(l.features)return l.features;var e=l.createEl(),t=e.style,n="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!i.pointerEvent){var o=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10),a>=1&&a<8&&(i.isOldIOSPhone=!0))}var f=o.match(/Android\s([0-9\.]*)/),h=f?f[1]:0;h=parseFloat(h),h>=1&&(h<4.4&&(i.isOldAndroid=!0),i.androidVersion=h),i.isMobileOpera=/opera mini|opera mobi/i.test(o)}for(var c=["transform","perspective","animationName"],v=["","webkit","Moz","ms","O"],_,Y,j=0;j<4;j++){n=v[j];for(var Ee=0;Ee<3;Ee++)_=c[Ee],Y=n+(n?_.charAt(0).toUpperCase()+_.slice(1):_),!i[_]&&Y in t&&(i[_]=Y);n&&!i.raf&&(n=n.toLowerCase(),i.raf=window[n+"RequestAnimationFrame"],i.raf&&(i.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!i.raf){var qe=0;i.raf=function(G){var Vt=new Date().getTime(),zt=Math.max(0,16-(Vt-qe)),ti=window.setTimeout(function(){G(Vt+zt)},zt);return qe=Vt+zt,ti},i.caf=function(G){clearTimeout(G)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,l.features=i,i}};l.detectFeatures(),l.features.oldIE&&(l.bind=function(e,t,n,i){t=t.split(" ");for(var o=(i?"detach":"attach")+"Event",a,f=function(){n.handleEvent.call(n)},h=0;h<t.length;h++)if(a=t[h],a)if(typeof n=="object"&&n.handleEvent){if(!i)n["oldIE"+a]=f;else if(!n["oldIE"+a])return!1;e[o]("on"+a,n["oldIE"+a])}else e[o]("on"+a,n)});var r=this,qt=25,$=3,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return e.tagName==="A"},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};l.extend(s,Pn);var J=function(){return{x:0,y:0}},_e,jt,mt,p,$t,X,Q=J(),we=J(),u=J(),Oe,je,S,D={},g,ue,yt,gt,vt,$e,ee=0,be={},O=J(),x,Jt,U=0,Je,Qe,Re,ke,xe,te,et=!0,V,_t=[],tt,wt,Qt,en,bt,fe,w,Ze={},ce=!1,xt,Fe=function(e,t){l.extend(r,t.publicMethods),_t.push(e)},nt=function(e){var t=k();return e>t-1?e-t:e<0?t+e:e},Ne={},b=function(e,t){return Ne[e]||(Ne[e]=[]),Ne[e].push(t)},y=function(e){var t=Ne[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(r,n)}},H=function(){return new Date().getTime()},z=function(e){ut=e,r.bg.style.opacity=e*s.bgOpacity},tn=function(e,t,n,i,o){(!ce||o&&o!==r.currItem)&&(i=i/(o?o.fitRatio:r.currItem.fitRatio)),e[xe]=yt+t+"px, "+n+"px"+gt+" scale("+i+")"},C=function(e){B&&(e&&(g>r.currItem.fitRatio?ce||(ve(r.currItem,!1,!0),ce=!0):ce&&(ve(r.currItem),ce=!1)),tn(B,u.x,u.y,g))},Ue=function(e){e.container&&tn(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Ce=function(e,t){t[xe]=yt+e+"px, 0px"+gt},it=function(e,t){if(!s.loop&&t){var n=p+(O.x*ee-e)/O.x,i=Math.round(e-q.x);(n<0&&i>0||n>=k()-1&&i<0)&&(e=q.x+i*s.mainScrollEndFriction)}q.x=e,Ce(e,$t)},Ct=function(e,t){var n=Xe[e]-be[e];return we[e]+Q[e]+n-n*(t/ue)},I=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},nn=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Tt=null,St=function(){Tt&&(l.unbind(document,"mousemove",St),l.addClass(m,"pswp--has_mouse"),s.mouseUsed=!0,y("mouseUsed")),Tt=setTimeout(function(){Tt=null},100)},En=function(){l.bind(document,"keydown",r),w.transform&&l.bind(r.scrollWrap,"click",r),s.mouseUsed||l.bind(document,"mousemove",St),l.bind(window,"resize scroll orientationchange",r),y("bindEvents")},On=function(){l.unbind(window,"resize scroll orientationchange",r),l.unbind(window,"scroll",S.scroll),l.unbind(document,"keydown",r),l.unbind(document,"mousemove",St),w.transform&&l.unbind(r.scrollWrap,"click",r),L&&l.unbind(window,Oe,r),clearTimeout(xt),y("unbindEvents")},Dt=function(e,t){var n=ze(r.currItem,D,e);return t&&(d=n),n},rn=function(e){return e||(e=r.currItem),e.initialZoomLevel},on=function(e){return e||(e=r.currItem),e.w>0?s.maxSpreadZoom:1},an=function(e,t,n,i){return i===r.currItem.initialZoomLevel?(n[e]=r.currItem.initialPosition[e],!0):(n[e]=Ct(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]?(n[e]=t.max[e],!0):!1)},Rn=function(){if(xe){var e=w.perspective&&!V;yt="translate"+(e?"3d(":"("),gt=w.perspective?", 0px)":")";return}xe="left",l.addClass(m,"pswp--ie"),Ce=function(t,n){n.left=t+"px"},Ue=function(t){var n=t.fitRatio>1?1:t.fitRatio,i=t.container.style,o=n*t.w,a=n*t.h;i.width=o+"px",i.height=a+"px",i.left=t.initialPosition.x+"px",i.top=t.initialPosition.y+"px"},C=function(){if(B){var t=B,n=r.currItem,i=n.fitRatio>1?1:n.fitRatio,o=i*n.w,a=i*n.h;t.width=o+"px",t.height=a+"px",t.left=u.x+"px",t.top=u.y+"px"}}},kn=function(e){var t="";s.escKey&&e.keyCode===27?t="close":s.arrowKeys&&(e.keyCode===37?t="prev":e.keyCode===39&&(t="next")),t&&!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&(e.preventDefault?e.preventDefault():e.returnValue=!1,r[t]())},Zn=function(e){!e||(Ie||me||E||Ye)&&(e.preventDefault(),e.stopPropagation())},ln=function(){r.setScrollOffset(0,l.getScrollY())},R={},Te=0,He=function(e){R[e]&&(R[e].raf&&wt(R[e].raf),Te--,delete R[e])},It=function(e){R[e]&&He(e),R[e]||(Te++,R[e]={})},Le=function(){for(var e in R)R.hasOwnProperty(e)&&He(e)},Be=function(e,t,n,i,o,a,f){var h=H(),c;It(e);var v=function(){if(R[e]){if(c=H()-h,c>=i){He(e),a(n),f&&f();return}a((n-t)*o(c/i)+t),R[e].raf=tt(v)}};v()},Fn={shout:y,listen:b,viewportSize:D,options:s,isMainScrollAnimating:function(){return E},getZoomLevel:function(){return g},getCurrentIndex:function(){return p},isDragging:function(){return L},isZooming:function(){return K},setScrollOffset:function(e,t){be.x=e,fe=be.y=t,y("updateScrollOffset",be)},applyZoomPan:function(e,t,n,i){u.x=t,u.y=n,g=e,C(i)},init:function(){if(!(_e||jt)){var e;r.framework=l,r.template=m,r.bg=l.getChildByClass(m,"pswp__bg"),Qt=m.className,_e=!0,w=l.detectFeatures(),tt=w.raf,wt=w.caf,xe=w.transform,bt=w.oldIE,r.scrollWrap=l.getChildByClass(m,"pswp__scroll-wrap"),r.container=l.getChildByClass(r.scrollWrap,"pswp__container"),$t=r.container.style,r.itemHolders=x=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],x[0].el.style.display=x[2].el.style.display="none",Rn(),S={resize:r.updateSize,orientationchange:function(){clearTimeout(xt),xt=setTimeout(function(){D.x!==r.scrollWrap.clientWidth&&r.updateSize()},500)},scroll:ln,keydown:kn,click:Zn};var t=w.isOldIOSPhone||w.isOldAndroid||w.isMobileOpera;for((!w.animationName||!w.transform||t)&&(s.showAnimationDuration=s.hideAnimationDuration=0),e=0;e<_t.length;e++)r["init"+_t[e]]();if(Kt){var n=r.ui=new Kt(r,l);n.init()}y("firstUpdate"),p=p||s.index||0,(isNaN(p)||p<0||p>=k())&&(p=0),r.currItem=le(p),(w.isOldIOSPhone||w.isOldAndroid)&&(et=!1),m.setAttribute("aria-hidden","false"),s.modal&&(et?m.style.position="fixed":(m.style.position="absolute",m.style.top=l.getScrollY()+"px")),fe===void 0&&(y("initialLayout"),fe=en=l.getScrollY());var i="pswp--open ";for(s.mainClass&&(i+=s.mainClass+" "),s.showHideOpacity&&(i+="pswp--animate_opacity "),i+=V?"pswp--touch":"pswp--notouch",i+=w.animationName?" pswp--css_animation":"",i+=w.svg?" pswp--svg":"",l.addClass(m,i),r.updateSize(),X=-1,U=null,e=0;e<$;e++)Ce((e+X)*O.x,x[e].el.style);bt||l.bind(r.scrollWrap,je,r),b("initialZoomInEnd",function(){r.setContent(x[0],p-1),r.setContent(x[2],p+1),x[0].el.style.display=x[2].el.style.display="block",s.focus&&m.focus(),En()}),r.setContent(x[1],p),r.updateCurrItem(),y("afterInit"),et||(vt=setInterval(function(){!Te&&!L&&!K&&g===r.currItem.initialZoomLevel&&r.updateSize()},1e3)),l.addClass(m,"pswp--visible")}},close:function(){!_e||(_e=!1,jt=!0,y("close"),On(),wn(r.currItem,null,!0,r.destroy))},destroy:function(){y("destroy"),ye&&clearTimeout(ye),m.setAttribute("aria-hidden","true"),m.className=Qt,vt&&clearInterval(vt),l.unbind(r.scrollWrap,je,r),l.unbind(window,"scroll",r),Rt(),Le(),Ne=null},panTo:function(e,t,n){n||(e>d.min.x?e=d.min.x:e<d.max.x&&(e=d.max.x),t>d.min.y?t=d.min.y:t<d.max.y&&(t=d.max.y)),u.x=e,u.y=t,C()},handleEvent:function(e){e=e||window.event,S[e.type]&&S[e.type](e)},goTo:function(e){e=nt(e);var t=e-p;U=t,p=e,r.currItem=le(p),ee-=t,it(O.x*ee),Le(),E=!1,r.updateCurrItem()},next:function(){r.goTo(p+1)},prev:function(){r.goTo(p-1)},updateCurrZoomItem:function(e){if(e&&y("beforeChange",0),x[1].el.children.length){var t=x[1].el.children[0];l.hasClass(t,"pswp__zoom-wrap")?B=t.style:B=null}else B=null;d=r.currItem.bounds,ue=g=r.currItem.initialZoomLevel,u.x=d.center.x,u.y=d.center.y,e&&y("afterChange")},invalidateCurrItems:function(){$e=!0;for(var e=0;e<$;e++)x[e].item&&(x[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(U!==0){var t=Math.abs(U),n;if(!(e&&t<2)){r.currItem=le(p),ce=!1,y("beforeChange",U),t>=$&&(X+=U+(U>0?-$:$),t=$);for(var i=0;i<t;i++)U>0?(n=x.shift(),x[$-1]=n,X++,Ce((X+2)*O.x,n.el.style),r.setContent(n,p-t+i+1+1)):(n=x.pop(),x.unshift(n),X--,Ce(X*O.x,n.el.style),r.setContent(n,p+t-i-1-1));if(B&&Math.abs(U)===1){var o=le(Jt);o.initialZoomLevel!==g&&(ze(o,D),ve(o),Ue(o))}U=0,r.updateCurrZoomItem(),Jt=p,y("afterChange")}}},updateSize:function(e){if(!et&&s.modal){var t=l.getScrollY();if(fe!==t&&(m.style.top=t+"px",fe=t),!e&&Ze.x===window.innerWidth&&Ze.y===window.innerHeight)return;Ze.x=window.innerWidth,Ze.y=window.innerHeight,m.style.height=Ze.y+"px"}if(D.x=r.scrollWrap.clientWidth,D.y=r.scrollWrap.clientHeight,ln(),O.x=D.x+Math.round(D.x*s.spacing),O.y=D.y,it(O.x*ee),y("beforeResize"),X!==void 0){for(var n,i,o,a=0;a<$;a++)n=x[a],Ce((a+X)*O.x,n.el.style),o=p+a-1,s.loop&&k()>2&&(o=nt(o)),i=le(o),i&&($e||i.needsUpdate||!i.bounds)?(r.cleanSlide(i),r.setContent(n,o),a===1&&(r.currItem=i,r.updateCurrZoomItem(!0)),i.needsUpdate=!1):n.index===-1&&o>=0&&r.setContent(n,o),i&&i.container&&(ze(i,D),ve(i),Ue(i));$e=!1}ue=g=r.currItem.initialZoomLevel,d=r.currItem.bounds,d&&(u.x=d.center.x,u.y=d.center.y,C(!0)),y("resize")},zoomTo:function(e,t,n,i,o){t&&(ue=g,Xe.x=Math.abs(t.x)-u.x,Xe.y=Math.abs(t.y)-u.y,I(we,u));var a=Dt(e,!1),f={};an("x",a,f,e),an("y",a,f,e);var h=g,c={x:u.x,y:u.y};nn(f);var v=function(_){_===1?(g=e,u.x=f.x,u.y=f.y):(g=(e-h)*_+h,u.x=(f.x-c.x)*_+c.x,u.y=(f.y-c.y)*_+c.y),o&&o(_),C(_===1)};n?Be("customZoomTo",0,1,n,i||l.easing.sine.inOut,v):v(1)}},sn=30,Mt=10,un,rt,M={},de={},A={},P={},Se={},ne=[],pe={},We,he=[],De={},At,Ye,Ge,ot=0,at=J(),Pt=0,L,Et,me,Ie,lt,ie,F,K,fn,cn,d,q=J(),B,E,Xe=J(),Me=J(),re,Ot,st,ut,ft,Nn=function(e,t){return e.x===t.x&&e.y===t.y},Un=function(e,t){return Math.abs(e.x-t.x)<qt&&Math.abs(e.y-t.y)<qt},dn=function(e,t){return De.x=Math.abs(e.x-t.x),De.y=Math.abs(e.y-t.y),Math.sqrt(De.x*De.x+De.y*De.y)},Rt=function(){lt&&(wt(lt),lt=null)},pn=function(){L&&(lt=tt(pn),Gn())},Hn=function(){return!(s.scaleMode==="fit"&&g===r.currItem.initialZoomLevel)},hn=function(e,t){return!e||e===document||e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1?!1:t(e)?e:hn(e.parentNode,t)},kt={},mn=function(e,t){return kt.prevent=!hn(e.target,s.isClickableElement),y("preventDragEvent",e,t,kt),kt.prevent},yn=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},gn=function(e,t,n){n.x=(e.x+t.x)*.5,n.y=(e.y+t.y)*.5},Ln=function(e,t,n){if(e-rt>50){var i=he.length>2?he.shift():{};i.x=t,i.y=n,he.push(i),rt=e}},vn=function(){var e=u.y-r.currItem.initialPosition.y;return 1-Math.abs(e/(D.y/2))},Ve={},Bn={},oe=[],ct,Zt=function(e){for(;oe.length>0;)oe.pop();return te?(ct=0,ne.forEach(function(t){ct===0?oe[0]=t:ct===1&&(oe[1]=t),ct++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(oe[0]=yn(e.touches[0],Ve),e.touches.length>1&&(oe[1]=yn(e.touches[1],Bn))):(Ve.x=e.pageX,Ve.y=e.pageY,Ve.id="",oe[0]=Ve),oe},_n=function(e,t){var n,i=0,o=u[e]+t[e],a,f=t[e]>0,h=q.x+t.x,c=q.x-pe.x,v,_;if(o>d.min[e]||o<d.max[e]?n=s.panEndFriction:n=1,o=u[e]+t[e]*n,(s.allowPanToNext||g===r.currItem.initialZoomLevel)&&(B?re==="h"&&e==="x"&&!me&&(f?(o>d.min[e]&&(n=s.panEndFriction,i=d.min[e]-o,a=d.min[e]-we[e]),(a<=0||c<0)&&k()>1?(_=h,c<0&&h>pe.x&&(_=pe.x)):d.min.x!==d.max.x&&(v=o)):(o<d.max[e]&&(n=s.panEndFriction,i=o-d.max[e],a=we[e]-d.max[e]),(a<=0||c>0)&&k()>1?(_=h,c>0&&h<pe.x&&(_=pe.x)):d.min.x!==d.max.x&&(v=o))):_=h,e==="x"))return _!==void 0&&(it(_,!0),_===pe.x?ie=!1:ie=!0),d.min.x!==d.max.x&&(v!==void 0?u.x=v:ie||(u.x+=t.x*n)),_!==void 0;E||ie||g>r.currItem.fitRatio&&(u[e]+=t[e]*n)},Wn=function(e){if(!(e.type==="mousedown"&&e.button>0)){if(Ae){e.preventDefault();return}if(!(Ge&&e.type==="mousedown")){if(mn(e,!0)&&e.preventDefault(),y("pointerDown"),te){var t=l.arraySearch(ne,e.pointerId,"id");t<0&&(t=ne.length),ne[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Zt(e),i=n.length;F=null,Le(),(!L||i===1)&&(L=Ot=!0,l.bind(window,Oe,r),At=ft=st=Ye=ie=Ie=Et=me=!1,re=null,y("firstTouchStart",n),I(we,u),Q.x=Q.y=0,I(P,n[0]),I(Se,P),pe.x=O.x*ee,he=[{x:P.x,y:P.y}],rt=un=H(),Dt(g,!0),Rt(),pn()),!K&&i>1&&!E&&!ie&&(ue=g,me=!1,K=Et=!0,Q.y=Q.x=0,I(we,u),I(M,n[0]),I(de,n[1]),gn(M,de,Me),Xe.x=Math.abs(Me.x)-u.x,Xe.y=Math.abs(Me.y)-u.y,fn=cn=dn(M,de))}}},Yn=function(e){if(e.preventDefault(),te){var t=l.arraySearch(ne,e.pointerId,"id");if(t>-1){var n=ne[t];n.x=e.pageX,n.y=e.pageY}}if(L){var i=Zt(e);if(!re&&!Ie&&!K)if(q.x!==O.x*ee)re="h";else{var o=Math.abs(i[0].x-P.x)-Math.abs(i[0].y-P.y);Math.abs(o)>=Mt&&(re=o>0?"h":"v",F=i)}else F=i}},Gn=function(){if(!!F){var e=F.length;if(e!==0)if(I(M,F[0]),A.x=M.x-P.x,A.y=M.y-P.y,K&&e>1){if(P.x=M.x,P.y=M.y,!A.x&&!A.y&&Nn(F[1],de))return;I(de,F[1]),me||(me=!0,y("zoomGestureStarted"));var t=dn(M,de),n=qn(t);n>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(ft=!0);var i=1,o=rn(),a=on();if(n<o)if(s.pinchToClose&&!ft&&ue<=r.currItem.initialZoomLevel){var f=o-n,h=1-f/(o/1.2);z(h),y("onPinchClose",h),st=!0}else i=(o-n)/o,i>1&&(i=1),n=o-i*(o/3);else n>a&&(i=(n-a)/(o*6),i>1&&(i=1),n=a+i*o);i<0&&(i=0),fn=t,gn(M,de,at),Q.x+=at.x-Me.x,Q.y+=at.y-Me.y,I(Me,at),u.x=Ct("x",n),u.y=Ct("y",n),At=n>g,g=n,C()}else{if(!re||(Ot&&(Ot=!1,Math.abs(A.x)>=Mt&&(A.x-=F[0].x-Se.x),Math.abs(A.y)>=Mt&&(A.y-=F[0].y-Se.y)),P.x=M.x,P.y=M.y,A.x===0&&A.y===0))return;if(re==="v"&&s.closeOnVerticalDrag&&!Hn()){Q.y+=A.y,u.y+=A.y;var c=vn();Ye=!0,y("onVerticalDrag",c),z(c),C();return}Ln(H(),M.x,M.y),Ie=!0,d=r.currItem.bounds;var v=_n("x",A);v||(_n("y",A),nn(u),C())}}},Xn=function(e){if(w.isOldAndroid){if(Ge&&e.type==="mouseup")return;e.type.indexOf("touch")>-1&&(clearTimeout(Ge),Ge=setTimeout(function(){Ge=0},600))}y("pointerUp"),mn(e,!1)&&e.preventDefault();var t;if(te){var n=l.arraySearch(ne,e.pointerId,"id");if(n>-1)if(t=ne.splice(n,1)[0],navigator.msPointerEnabled){var i={4:"mouse",2:"touch",3:"pen"};t.type=i[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}else t.type=e.pointerType||"mouse"}var o=Zt(e),a,f=o.length;if(e.type==="mouseup"&&(f=0),f===2)return F=null,!0;f===1&&I(Se,o[0]),f===0&&!re&&!E&&(t||(e.type==="mouseup"?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),y("touchRelease",e,t));var h=-1;if(f===0&&(L=!1,l.unbind(window,Oe,r),Rt(),K?h=0:Pt!==-1&&(h=H()-Pt)),Pt=f===1?H():-1,h!==-1&&h<150?a="zoom":a="swipe",K&&f<2&&(K=!1,f===1&&(a="zoomPointerUp"),y("zoomGestureEnded")),F=null,!(!Ie&&!me&&!E&&!Ye)){if(Le(),We||(We=Vn()),We.calculateSwipeSpeed("x"),Ye){var c=vn();if(c<s.verticalDragRange)r.close();else{var v=u.y,_=ut;Be("verticalDrag",0,1,300,l.easing.cubic.out,function(j){u.y=(r.currItem.initialPosition.y-v)*j+v,z((1-_)*j+_),C()}),y("onVerticalDrag",1)}return}if((ie||E)&&f===0){var Y=Kn(a,We);if(Y)return;a="zoomPointerUp"}if(!E){if(a!=="swipe"){jn();return}!ie&&g>r.currItem.fitRatio&&zn(We)}}},Vn=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){he.length>1?(e=H()-rt+50,t=he[he.length-2][i]):(e=H()-un,t=Se[i]),n.lastFlickOffset[i]=P[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(i,o){n.backAnimStarted[i]||(u[i]>d.min[i]?n.backAnimDestination[i]=d.min[i]:u[i]<d.max[i]&&(n.backAnimDestination[i]=d.max[i]),n.backAnimDestination[i]!==void 0&&(n.slowDownRatio[i]=.7,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatioAbs[i]<.05&&(n.lastFlickSpeed[i]=0,n.backAnimStarted[i]=!0,Be("bounceZoomPan"+i,u[i],n.backAnimDestination[i],o||300,l.easing.sine.out,function(a){u[i]=a,C()}))))},calculateAnimOffset:function(i){n.backAnimStarted[i]||(n.speedDecelerationRatio[i]=n.speedDecelerationRatio[i]*(n.slowDownRatio[i]+n.slowDownRatioReverse[i]-n.slowDownRatioReverse[i]*n.timeDiff/10),n.speedDecelerationRatioAbs[i]=Math.abs(n.lastFlickSpeed[i]*n.speedDecelerationRatio[i]),n.distanceOffset[i]=n.lastFlickSpeed[i]*n.speedDecelerationRatio[i]*n.timeDiff,u[i]+=n.distanceOffset[i])},panAnimLoop:function(){if(R.zoomPan&&(R.zoomPan.raf=tt(n.panAnimLoop),n.now=H(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),C(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05)){u.x=Math.round(u.x),u.y=Math.round(u.y),C(),He("zoomPan");return}}};return n},zn=function(e){if(e.calculateSwipeSpeed("y"),d=r.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;It("zoomPan"),e.lastNow=H(),e.panAnimLoop()},Kn=function(e,t){var n;E||(ot=p);var i;if(e==="swipe"){var o=P.x-Se.x,a=t.lastFlickDist.x<10;o>sn&&(a||t.lastFlickOffset.x>20)?i=-1:o<-sn&&(a||t.lastFlickOffset.x<-20)&&(i=1)}var f;i&&(p+=i,p<0?(p=s.loop?k()-1:0,f=!0):p>=k()&&(p=s.loop?0:k()-1,f=!0),(!f||s.loop)&&(U+=i,ee-=i,n=!0));var h=O.x*ee,c=Math.abs(h-q.x),v;return!n&&h>q.x!=t.lastFlickSpeed.x>0?v=333:(v=Math.abs(t.lastFlickSpeed.x)>0?c/Math.abs(t.lastFlickSpeed.x):333,v=Math.min(v,400),v=Math.max(v,250)),ot===p&&(n=!1),E=!0,y("mainScrollAnimStart"),Be("mainScroll",q.x,h,v,l.easing.cubic.out,it,function(){Le(),E=!1,ot=-1,(n||ot!==p)&&r.updateCurrItem(),y("mainScrollAnimComplete")}),n&&r.updateCurrItem(!0),n},qn=function(e){return 1/cn*e*ue},jn=function(){var e=g,t=rn(),n=on();g<t?e=t:g>n&&(e=n);var i=1,o,a=ut;return st&&!At&&!ft&&g<t?(r.close(),!0):(st&&(o=function(f){z((i-a)*f+a)}),r.zoomTo(e,0,200,l.easing.cubic.out,o),!0)};Fe("Gestures",{publicMethods:{initGestures:function(){var e=function(t,n,i,o,a){Je=t+n,Qe=t+i,Re=t+o,a?ke=t+a:ke=""};te=w.pointerEvent,te&&w.touch&&(w.touch=!1),te?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):w.touch?(e("touch","start","move","end","cancel"),V=!0):e("mouse","down","move","up"),Oe=Qe+" "+Re+" "+ke,je=Je,te&&!V&&(V=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=V,S[Je]=Wn,S[Qe]=Yn,S[Re]=Xn,ke&&(S[ke]=S[Re]),w.touch&&(je+=" mousedown",Oe+=" mousemove mouseup",S.mousedown=S[Je],S.mousemove=S[Qe],S.mouseup=S[Re]),V||(s.allowPanToNext=!1)}}});var ye,wn=function(e,t,n,i){ye&&clearTimeout(ye),Ae=!0,Ft=!0;var o;e.initialLayout?(o=e.initialLayout,e.initialLayout=null):o=s.getThumbBoundsFn&&s.getThumbBoundsFn(p);var a=n?s.hideAnimationDuration:s.showAnimationDuration,f=function(){He("initialZoom"),n?(r.template.removeAttribute("style"),r.bg.removeAttribute("style")):(z(1),t&&(t.style.display="block"),l.addClass(m,"pswp--animated-in"),y("initialZoom"+(n?"OutEnd":"InEnd"))),i&&i(),Ae=!1};if(!a||!o||o.x===void 0){y("initialZoom"+(n?"Out":"In")),g=e.initialZoomLevel,I(u,e.initialPosition),C(),m.style.opacity=n?0:1,z(1),a?setTimeout(function(){f()},a):f();return}var h=function(){var c=mt,v=!r.currItem.src||r.currItem.loadError||s.showHideOpacity;e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),n||(g=o.w/e.w,u.x=o.x,u.y=o.y-en,r[v?"template":"bg"].style.opacity=.001,C()),It("initialZoom"),n&&!c&&l.removeClass(m,"pswp--animated-in"),v&&(n?l[(c?"remove":"add")+"Class"](m,"pswp--animate_opacity"):setTimeout(function(){l.addClass(m,"pswp--animate_opacity")},30)),ye=setTimeout(function(){if(y("initialZoom"+(n?"Out":"In")),!n)g=e.initialZoomLevel,I(u,e.initialPosition),C(),z(1),v?m.style.opacity=1:z(1),ye=setTimeout(f,a+20);else{var _=o.w/e.w,Y={x:u.x,y:u.y},j=g,Ee=ut,qe=function(G){G===1?(g=_,u.x=o.x,u.y=o.y-fe):(g=(_-j)*G+j,u.x=(o.x-Y.x)*G+Y.x,u.y=(o.y-fe-Y.y)*G+Y.y),C(),v?m.style.opacity=1-G:z(Ee-G*Ee)};c?Be("initialZoom",0,1,a,l.easing.cubic.out,qe,f):(qe(1),ye=setTimeout(f,a+20))}},n?25:90)};h()},ae,N={},ge=[],Ft,Ae,$n={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return ae.length}},le,k,Jn,bn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},Qn=function(e,t,n){var i=e.bounds;i.center.x=Math.round((N.x-t)/2),i.center.y=Math.round((N.y-n)/2)+e.vGap.top,i.max.x=t>N.x?Math.round(N.x-t):i.center.x,i.max.y=n>N.y?Math.round(N.y-n)+e.vGap.top:i.center.y,i.min.x=t>N.x?0:i.center.x,i.min.y=n>N.y?e.vGap.top:i.center.y},ze=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),y("parseVerticalMargin",e)),N.x=t.x,N.y=t.y-e.vGap.top-e.vGap.bottom,i){var o=N.x/e.w,a=N.y/e.h;e.fitRatio=o<a?o:a;var f=s.scaleMode;f==="orig"?n=1:f==="fit"&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=bn())}return n?(Qn(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0}else return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=bn(),e.initialPosition=e.bounds.center,e.bounds},dt=function(e,t,n,i,o,a){t.loadError||i&&(t.imageAppended=!0,ve(t,i,t===r.currItem&&ce),n.appendChild(i),a&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},xn=function(e){e.loading=!0,e.loaded=!1;var t=e.img=l.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Cn=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=s.errorMsg.replace("%url%",e.src),!0},ve=function(e,t,n){if(!!e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=o+"px"),t.style.width=i+"px",t.style.height=o+"px"}},Tn=function(){if(ge.length){for(var e,t=0;t<ge.length;t++)e=ge[t],e.holder.index===e.index&&dt(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);ge=[]}};Fe("Controller",{publicMethods:{lazyLoadItem:function(e){e=nt(e);var t=le(e);!t||(t.loaded||t.loading)&&!$e||(y("gettingData",e,t),!!t.src&&xn(t))},initController:function(){l.extend(s,$n,!0),r.items=ae=An,le=r.getItemAt,k=s.getNumItemsFn,Jn=s.loop,k()<3&&(s.loop=!1),b("beforeChange",function(e){var t=s.preload,n=e===null?!0:e>=0,i=Math.min(t[0],k()),o=Math.min(t[1],k()),a;for(a=1;a<=(n?o:i);a++)r.lazyLoadItem(p+a);for(a=1;a<=(n?i:o);a++)r.lazyLoadItem(p-a)}),b("initialLayout",function(){r.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(p)}),b("mainScrollAnimComplete",Tn),b("initialZoomInEnd",Tn),b("destroy",function(){for(var e,t=0;t<ae.length;t++)e=ae[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);ge=null})},getItemAt:function(e){return e>=0&&ae[e]!==void 0?ae[e]:!1},allowProgressiveImg:function(){return s.forceProgressiveLoading||!V||s.mouseUsed||screen.width>1200},setContent:function(e,t){s.loop&&(t=nt(t));var n=r.getItemAt(e.index);n&&(n.container=null);var i=r.getItemAt(t),o;if(!i){e.el.innerHTML="";return}y("gettingData",t,i),e.index=t,e.item=i;var a=i.container=l.createEl("pswp__zoom-wrap");if(!i.src&&i.html&&(i.html.tagName?a.appendChild(i.html):a.innerHTML=i.html),Cn(i),ze(i,D),i.src&&!i.loadError&&!i.loaded){if(i.loadComplete=function(c){if(!!_e){if(e&&e.index===t){if(Cn(c,!0)){c.loadComplete=c.img=null,ze(c,D),Ue(c),e.index===p&&r.updateCurrZoomItem();return}c.imageAppended?!Ae&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):w.transform&&(E||Ae)?ge.push({item:c,baseDiv:a,img:c.img,index:t,holder:e,clearPlaceholder:!0}):dt(t,c,a,c.img,E||Ae,!0)}c.loadComplete=null,c.img=null,y("imageLoadComplete",t,c)}},l.features.transform){var f="pswp__img pswp__img--placeholder";f+=i.msrc?"":" pswp__img--placeholder--blank";var h=l.createEl(f,i.msrc?"img":"");i.msrc&&(h.src=i.msrc),ve(i,h),a.appendChild(h),i.placeholder=h}i.loading||xn(i),r.allowProgressiveImg()&&(!Ft&&w.transform?ge.push({item:i,baseDiv:a,img:i.img,index:t,holder:e}):dt(t,i,a,i.img,!0,!0))}else i.src&&!i.loadError&&(o=l.createEl("pswp__img","img"),o.style.opacity=1,o.src=i.src,ve(i,o),dt(t,i,a,o,!0));!Ft&&t===p?(B=a.style,wn(i,o||i.img)):Ue(i),e.el.innerHTML="",e.el.appendChild(a)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var se,Nt={},Ut=function(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)};Fe("Tap",{publicMethods:{initTap:function(){b("firstTouchStart",r.onTapStart),b("touchRelease",r.onTapRelease),b("destroy",function(){Nt={},se=null})},onTapStart:function(e){e.length>1&&(clearTimeout(se),se=null)},onTapRelease:function(e,t){if(!!t&&!Ie&&!Et&&!Te){var n=t;if(se&&(clearTimeout(se),se=null,Un(n,Nt))){y("doubleTap",n);return}if(t.type==="mouse"){Ut(e,t,"mouse");return}var i=e.target.tagName.toUpperCase();if(i==="BUTTON"||l.hasClass(e.target,"pswp__single-tap")){Ut(e,t);return}I(Nt,n),se=setTimeout(function(){Ut(e,t),se=null},300)}}}});var Z;Fe("DesktopZoom",{publicMethods:{initDesktopZoom:function(){bt||(V?b("mouseUsed",function(){r.setupDesktopZoom()}):r.setupDesktopZoom(!0))},setupDesktopZoom:function(e){Z={};var t="wheel mousewheel DOMMouseScroll";b("bindEvents",function(){l.bind(m,t,r.handleMouseWheel)}),b("unbindEvents",function(){Z&&l.unbind(m,t,r.handleMouseWheel)}),r.mouseZoomedIn=!1;var n,i=function(){r.mouseZoomedIn&&(l.removeClass(m,"pswp--zoomed-in"),r.mouseZoomedIn=!1),g<1?l.addClass(m,"pswp--zoom-allowed"):l.removeClass(m,"pswp--zoom-allowed"),o()},o=function(){n&&(l.removeClass(m,"pswp--dragging"),n=!1)};b("resize",i),b("afterChange",i),b("pointerDown",function(){r.mouseZoomedIn&&(n=!0,l.addClass(m,"pswp--dragging"))}),b("pointerUp",o),e||i()},handleMouseWheel:function(e){if(g<=r.currItem.fitRatio)return s.modal&&(!s.closeOnScroll||Te||L?e.preventDefault():xe&&Math.abs(e.deltaY)>2&&(mt=!0,r.close())),!0;if(e.stopPropagation(),Z.x=0,"deltaX"in e)e.deltaMode===1?(Z.x=e.deltaX*18,Z.y=e.deltaY*18):(Z.x=e.deltaX,Z.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Z.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Z.y=-.16*e.wheelDeltaY:Z.y=-.16*e.wheelDelta;else if("detail"in e)Z.y=e.detail;else return;Dt(g,!0);var t=u.x-Z.x,n=u.y-Z.y;(s.modal||t<=d.min.x&&t>=d.max.x&&n<=d.min.y&&n>=d.max.y)&&e.preventDefault(),r.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:D.x/2+be.x,y:D.y/2+be.y};var t=s.getDoubleTapZoom(!0,r.currItem),n=g===t;r.mouseZoomedIn=!n,r.zoomTo(n?r.currItem.initialZoomLevel:t,e,333),l[(n?"remove":"add")+"Class"](m,"pswp--zoomed-in")}}});var ei={history:!0,galleryUID:1},Ht,Sn,Ke,pt,Lt,Dn,T,Pe,Bt,Wt,W,Yt,Gt=function(){return W.hash.substring(1)},In=function(){Ht&&clearTimeout(Ht),Ke&&clearTimeout(Ke)},Mn=function(){var e=Gt(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(!!i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}if(s.galleryPIDs){var a=t.pid;for(t.pid=0,n=0;n<ae.length;n++)if(ae[n].pid===a){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Xt=function(){if(Ke&&clearTimeout(Ke),Te||L){Ke=setTimeout(Xt,500);return}pt?clearTimeout(Sn):pt=!0;var e=p+1,t=le(p);t.hasOwnProperty("pid")&&(e=t.pid);var n=T+"&gid="+s.galleryUID+"&pid="+e;Pe||W.hash.indexOf(n)===-1&&(Wt=!0);var i=W.href.split("#")[0]+"#"+n;Yt?"#"+n!==window.location.hash&&history[Pe?"replaceState":"pushState"]("",document.title,i):Pe?W.replace(i):W.hash=n,Pe=!0,Sn=setTimeout(function(){pt=!1},60)};Fe("History",{publicMethods:{initHistory:function(){if(l.extend(s,ei,!0),!!s.history){W=window.location,Wt=!1,Bt=!1,Pe=!1,T=Gt(),Yt="pushState"in history,T.indexOf("gid=")>-1&&(T=T.split("&gid=")[0],T=T.split("?gid=")[0]),b("afterChange",r.updateURL),b("unbindEvents",function(){l.unbind(window,"hashchange",r.onHashChange)});var e=function(){Dn=!0,Bt||(Wt?history.back():T?W.hash=T:Yt?history.pushState("",document.title,W.pathname+W.search):W.hash=""),In()};b("unbindEvents",function(){mt&&e()}),b("destroy",function(){Dn||e()}),b("firstUpdate",function(){p=Mn().pid});var t=T.indexOf("pid=");t>-1&&(T=T.substring(0,t),T.slice(-1)==="&"&&(T=T.slice(0,-1))),setTimeout(function(){_e&&l.bind(window,"hashchange",r.onHashChange)},40)}},onHashChange:function(){if(Gt()===T){Bt=!0,r.close();return}pt||(Lt=!0,r.goTo(Mn().pid),Lt=!1)},updateURL:function(){In(),!Lt&&(Pe?Ht=setTimeout(Xt,800):Xt())}}}),l.extend(r,Fn)};return ht});
